Module("stratego/aterm/PrettyPrint",[Imports([Import("libstratego-lib"),Import("libstratego-gpp"),Import("stratego/aterm/PrettyPrintRules")]),Strategies([SDefT("pp-aterm-stream",[],[DefaultVarDec("stream")],CallT(SVar("pp-aterm-stream"),[],[NoAnnoList(Int("8")),Var("stream")])),SDefT("pp-aterm-stream",[],[DefaultVarDec("maxtermsize"),DefaultVarDec("stream")],Seq(CallNoArgs(SVar("aterm-escape-strings")),Seq(CallT(SVar("pp-aterm-box"),[],[Var("maxtermsize")]),Seq(CallT(SVar("box2text-stream"),[],[NoAnnoList(Int("80")),Var("stream")]),BA(CallNoArgs(SVar("fputs")),NoAnnoList(Tuple([NoAnnoList(Str("\"\\n\"")),Var("stream")])))))))]),Strategies([SDefNoArgs("aterm-escape-strings",Call(SVar("topdown"),[Call(SVar("try"),[CallNoArgs(SVar("aterm-escape-string"))])])),RDefNoArgs("aterm-escape-string",Rule(AnnoList(Var("s1"),[Var(ListVar("t*"))]),AnnoList(Var("s2"),[Var(ListVar("t*"))]),Seq(Build(Var("s1")),Seq(Call(SVar("string-as-chars"),[Call(SVar("escape-chars"),[Choice(CallNoArgs(SVar("Escape-backslash")),Choice(CallNoArgs(SVar("Escape-double-quote")),Choice(CallNoArgs(SVar("Escape-linefeed")),Choice(LRule(RuleNoCond(NoAnnoList(ListTail([NoAnnoList(Char("'\\t'"))],Var("cs"))),NoAnnoList(ListTail([NoAnnoList(Char("'\\'")),NoAnnoList(Char("'t'"))],Var("cs"))))),CallNoArgs(SVar("Escape-carriage-return"))))))])]),Match(Var("s2"))))))])])
