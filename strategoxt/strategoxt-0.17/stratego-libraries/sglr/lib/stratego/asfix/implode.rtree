Module("stratego/asfix/implode",[Imports([Import("libstratego-lib"),Import("stratego/asfix/signature"),Import("stratego/asfix/implode/alternative"),Import("stratego/asfix/implode/constructor"),Import("stratego/asfix/implode/conc"),Import("stratego/asfix/implode/concrete-syntax"),Import("stratego/asfix/implode/injection"),Import("stratego/asfix/implode/layout"),Import("stratego/asfix/implode/lexical"),Import("stratego/asfix/implode/list"),Import("stratego/asfix/implode/sort"),Import("stratego/asfix/implode/tuple")]),Strategies([SDefNoArgs("implode-asfix",Call(SVar("implode-asfix"),[CallNoArgs(SVar("true"))])),SDefNoArgs("implode-asfix-skip-concrete-syntax",Call(SVar("implode-asfix"),[CallNoArgs(SVar("false"))])),SDef("implode-asfix",[DefaultVarDec("implode-concrete")],Seq(Match(NoAnnoList(Op("parsetree",[RootApp(Id),Wld]))),Rec("x",LChoice(CallNoArgs(SVar("ImplodeLexical")),LChoice(Seq(Where(Not(CallNoArgs(SVar("implode-concrete")))),Call(SVar("skip-concrete"),[CallNoArgs(SVar("x"))])),LChoice(Seq(Call(SVar("appl"),[Id,Call(SVar("filter"),[Not(CallNoArgs(SVar("is-ignorable-syntax")))])]),LChoice(Seq(CallNoArgs(SVar("ImplodeOptionalList")),CallNoArgs(SVar("x"))),LChoice(Call(SVar("ReplCons"),[CallNoArgs(SVar("x"))]),LChoice(Seq(CallNoArgs(SVar("ImplodeInjection")),CallNoArgs(SVar("x"))),LChoice(Seq(CallNoArgs(SVar("ImplodeTuple")),CallNoArgs(SVar("x"))),Seq(CallNoArgs(SVar("ImplodeAlternative")),CallNoArgs(SVar("x")))))))),LChoice(Call(SVar("amb"),[Call(SVar("map"),[CallNoArgs(SVar("x"))])]),All(CallNoArgs(SVar("x"))))))))))]),Strategies([SDefNoArgs("implode-parsetree",Seq(Match(Var("t")),Prim("\"STRSGLR_implode_parsetree\"",[Var("t")])))]),Strategies([SDefNoArgs("asfix-appl-to-sort",Call(SVar("topdown"),[Call(SVar("repeat"),[CallNoArgs(SVar("ApplToSort"))])])),SDefNoArgs("asfix-flat-lex",Call(SVar("downup2"),[Call(SVar("try"),[CallNoArgs(SVar("ImplodeLexical"))]),Call(SVar("try"),[CallNoArgs(SVar("ImplodeLayout"))])])),SDefNoArgs("asfix-remove-layout",Call(SVar("topdown"),[Call(SVar("try"),[Call(SVar("appl"),[Call(SVar("prod"),[Call(SVar("filter"),[Not(CallNoArgs(SVar("is-layout'")))]),Id,Id]),Call(SVar("filter"),[Not(CallNoArgs(SVar("is-layout'")))])])])])),SDefNoArgs("asfix-remove-lit",Call(SVar("topdown"),[Call(SVar("try"),[Seq(CallNoArgs(SVar("is-list")),Call(SVar("filter"),[Not(Call(SVar("lit"),[Id]))]))])])),SDefNoArgs("asfix-flat-alt",Call(SVar("topdown"),[Call(SVar("try"),[CallNoArgs(SVar("ImplodeAlternative"))])])),SDefNoArgs("asfix-replace-appl",Seq(Call(SVar("topdown"),[Call(SVar("try"),[Seq(Call(SVar("appl"),[Id,Id]),CallNoArgs(SVar("Cns")))])]),CallNoArgs(SVar("conc-to-cons")))),SDefNoArgs("asfix-flat-injections",Call(SVar("bottomup"),[Call(SVar("try"),[CallNoArgs(SVar("ImplodeInjection"))])])),SDefNoArgs("asfix-flat-list",Call(SVar("topdown"),[Call(SVar("try"),[CallNoArgs(SVar("FlatList"))])])),SDefNoArgs("asfix-remove-seq",Call(SVar("topdown"),[Call(SVar("try"),[CallNoArgs(SVar("ImplodeTuple"))])]))])])
