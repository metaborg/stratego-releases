Module("stratego/asfix/implode/lexical",[Strategies([SDefNoArgs("ImplodeLexical",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[NoAnnoList(List([NoAnnoList(Op("lex",[Wld]))])),NoAnnoList(Op("cf",[Wld])),Wld])),Wld]))),CallNoArgs(SVar("asfix-yield-appl")))),SDefNoArgs("ImplodeLexical",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("lex",[Wld])),Wld])),Wld]))),CallNoArgs(SVar("asfix-yield-appl")))),SDefNoArgs("ImplodeLexical",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("lit",[Wld])),Wld])),Wld]))),CallNoArgs(SVar("asfix-yield-appl")))),SDefNoArgs("ImplodeLexical",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("cilit",[Wld])),Wld])),Wld]))),CallNoArgs(SVar("asfix-yield-appl")))),SDefNoArgs("ImplodeLexical",LChoice(CallNoArgs(SVar("ImplodeLexicalListVar")),CallNoArgs(SVar("ImplodeLexicalVar")))),SDefNoArgs("ImplodeLexicalListVar",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("varsym",[NoAnnoList(Op("cf",[NoAnnoList(Op("iter-star",[Wld]))]))])),Wld])),Wld]))),Build(NoAnnoList(Op("meta-listvar",[RootApp(CallNoArgs(SVar("asfix-yield-appl")))]))))),SDefNoArgs("ImplodeLexicalListVar",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("varsym",[NoAnnoList(Op("cf",[NoAnnoList(Op("iter-star-sep",[Wld,Wld]))]))])),Wld])),Wld]))),Build(NoAnnoList(Op("meta-listvar",[RootApp(CallNoArgs(SVar("asfix-yield-appl")))]))))),SDefNoArgs("ImplodeLexicalListVar",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("varsym",[NoAnnoList(Op("cf",[NoAnnoList(Op("iter",[Wld]))]))])),Wld])),Wld]))),Build(NoAnnoList(Op("meta-listvar",[RootApp(CallNoArgs(SVar("asfix-yield-appl")))]))))),SDefNoArgs("ImplodeLexicalListVar",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("varsym",[NoAnnoList(Op("cf",[NoAnnoList(Op("iter-sep",[Wld,Wld]))]))])),Wld])),Wld]))),Build(NoAnnoList(Op("meta-listvar",[RootApp(CallNoArgs(SVar("asfix-yield-appl")))]))))),SDefNoArgs("ImplodeLexicalVar",Seq(Match(NoAnnoList(Op("appl",[NoAnnoList(Op("prod",[Wld,NoAnnoList(Op("varsym",[Wld])),Wld])),Wld]))),Build(NoAnnoList(Op("meta-var",[RootApp(CallNoArgs(SVar("asfix-yield-appl")))])))))]),Strategies([SDefNoArgs("asfix-yield-appl",Let([SDefT("yield",[],[DefaultVarDec("chars")],CallT(SVar("asfix-yield-acc"),[CallNoArgs(SVar("yield"))],[Var("chars")]))],Seq(Match(AnnoList(Op("appl",[Wld,RootApp(Id)]),[Var(ListVar("anno*"))])),Seq(CallT(SVar("yield"),[],[NoAnnoList(List([]))]),Seq(CallNoArgs(SVar("implode-string")),Seq(Match(Var("s")),Build(AnnoList(Var("s"),[Var(ListVar("anno*"))])))))))),RDefT("asfix-yield-acc",[VarDec("rec",FunType([ConstType(SortVar("b")),ConstType(SortVar("c"))],ConstType(SortVar("d"))))],[DefaultVarDec("acc")],Rule(NoAnnoList(Op("appl",[Wld,Var("ts")])),Var("acc'"),Assign(Var("acc'"),App(CallT(SVar("rec"),[],[Var("acc")]),Var("ts"))))),RDefT("asfix-yield-acc",[VarDec("rec",FunType([ConstType(SortVar("b")),ConstType(SortVar("c"))],ConstType(SortVar("d"))))],[DefaultVarDec("acc")],RuleNoCond(NoAnnoList(List([])),Var("acc"))),RDefT("asfix-yield-acc",[VarDec("rec",FunType([ConstType(SortVar("b")),ConstType(SortVar("c"))],ConstType(SortVar("d"))))],[DefaultVarDec("acc")],Rule(NoAnnoList(ListTail([Var("x")],Var("xs"))),Var("acc''"),Seq(Assign(Var("acc'"),App(CallT(SVar("rec"),[],[Var("acc")]),Var("xs"))),Assign(Var("acc''"),App(CallT(SVar("rec"),[],[Var("acc'")]),Var("x")))))),RDefT("asfix-yield-acc",[VarDec("rec",FunType([ConstType(SortVar("b")),ConstType(SortVar("c"))],ConstType(SortVar("d"))))],[DefaultVarDec("acc")],Rule(Var("i"),NoAnnoList(ListTail([Var("i")],Var("acc"))),CallNoArgs(SVar("is-int"))))])])
