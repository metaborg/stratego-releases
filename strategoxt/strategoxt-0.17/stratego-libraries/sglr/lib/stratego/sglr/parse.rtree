Module("stratego/sglr/parse",[Imports([Import("libstratego-lib"),Import("libstratego-xtc")]),Strategies([SDefT("parse-string",[],[DefaultVarDec("tbl")],CallT(SVar("parse-string"),[Id],[Var("tbl")])),SDefT("parse-string",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-string"),[Id],[Var("tbl"),Var("start-symbol")])),SDefT("parse-string",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-string"),[Id],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-string",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],CallT(SVar("parse-string"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),NoAnnoList(Str("\"string\""))])),SDefT("parse-string",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-string"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),NoAnnoList(Str("\"string\""))])),SDefT("parse-string",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(CallT(SVar("parse-string-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]),CallNoArgs(SVar("implode-asfix"))))]),Strategies([SDefT("parse-string-pt",[],[DefaultVarDec("tbl")],CallT(SVar("parse-string-pt"),[Id],[Var("tbl")])),SDefT("parse-string-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-string-pt"),[Id],[Var("tbl"),Var("start-symbol")])),SDefT("parse-string-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-string-pt"),[Id],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-string-pt",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],CallT(SVar("parse-string-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),NoAnnoList(Str("\"string\""))])),SDefT("parse-string-pt",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-string-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),NoAnnoList(Str("\"string\""))])),SDefT("parse-string-pt",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(Where(AM(Build(Var("tbl")),NoAnnoList(Op("ParseTable",[Var("internal-tbl")])))),Seq(Match(Var("string")),PrimT("\"STRSGLR_parse_string_pt\"",[CallNoArgs(SVar("on-parse-error"))],[Var("string"),Var("internal-tbl"),Var("start-symbol"),Var("path")]))))]),Strategies([SDefT("parse-stream",[],[DefaultVarDec("tbl")],CallT(SVar("parse-stream"),[Fail],[Var("tbl")])),SDefT("parse-stream",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-stream"),[Fail],[Var("tbl"),Var("start-symbol")])),SDefT("parse-stream",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-stream"),[Fail],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-stream",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],CallT(SVar("parse-stream"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),NoAnnoList(Str("\"string\""))])),SDefT("parse-stream",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-stream"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),NoAnnoList(Str("\"string\""))])),SDefT("parse-stream",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(CallT(SVar("parse-stream-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]),CallNoArgs(SVar("implode-asfix"))))]),Strategies([SDefT("parse-stream-pt",[],[DefaultVarDec("tbl")],CallT(SVar("parse-stream-pt"),[Id],[Var("tbl")])),SDefT("parse-stream-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-stream-pt"),[Id],[Var("tbl"),Var("start-symbol")])),SDefT("parse-stream-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-stream-pt"),[Id],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-stream-pt",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],CallT(SVar("parse-stream-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),NoAnnoList(Str("\"stream\""))])),SDefT("parse-stream-pt",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-stream-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),NoAnnoList(Str("\"stream\""))])),SDefT("parse-stream-pt",[DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(Where(AM(Build(Var("tbl")),NoAnnoList(Op("ParseTable",[Var("internal-tbl")])))),Seq(Match(NoAnnoList(Op("Stream",[Var("stream")]))),PrimT("\"STRSGLR_parse_stream_pt\"",[CallNoArgs(SVar("on-parse-error"))],[Var("stream"),Var("internal-tbl"),Var("start-symbol"),Var("path")]))))]),Strategies([SDefT("parse-file",[],[DefaultVarDec("tbl")],CallT(SVar("parse-file"),[Fail,Fail],[Var("tbl")])),SDefT("parse-file",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-file"),[Fail,Fail],[Var("tbl"),Var("start-symbol")])),SDefT("parse-file",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-file"),[Fail,Fail],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-file",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],Seq(Match(Var("path")),CallT(SVar("parse-file"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),Var("path")]))),SDefT("parse-file",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],Seq(Match(Var("path")),CallT(SVar("parse-file"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]))),SDefT("parse-file",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(CallT(SVar("parse-file-pt"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]),CallNoArgs(SVar("implode-asfix"))))]),Strategies([SDefT("parse-file-pt",[],[DefaultVarDec("tbl")],CallT(SVar("parse-file-pt"),[Fail,Fail],[Var("tbl")])),SDefT("parse-file-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-file-pt"),[Fail,Fail],[Var("tbl"),Var("start-symbol")])),SDefT("parse-file-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-file-pt"),[Fail,Fail],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-file-pt",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],Seq(Match(Var("path")),CallT(SVar("parse-file-pt"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),Var("path")]))),SDefT("parse-file-pt",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],Seq(Match(Var("path")),CallT(SVar("parse-file-pt"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]))),SDefT("parse-file-pt",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(Where(AM(Build(Var("tbl")),NoAnnoList(Op("ParseTable",[Var("internal-tbl")])))),Seq(LChoice(AM(BA(CallNoArgs(SVar("fopen")),NoAnnoList(Tuple([RootApp(Id),NoAnnoList(Str("\"r\""))]))),Var("stream")),Seq(CallNoArgs(SVar("on-open-error")),Fail)),Call(SVar("finally"),[CallT(SVar("parse-stream-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]),BA(CallNoArgs(SVar("fclose")),Var("stream"))]))))]),Strategies([SDefT("parse-xtc-file",[],[DefaultVarDec("tbl")],CallT(SVar("parse-xtc-file"),[Fail,Fail],[Var("tbl")])),SDefT("parse-xtc-file",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],CallT(SVar("parse-xtc-file"),[Fail,Fail],[Var("tbl"),Var("start-symbol")])),SDefT("parse-xtc-file",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-xtc-file"),[Fail,Fail],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-xtc-file",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],Seq(Match(Var("file")),CallT(SVar("parse-xtc-file"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),App(CallNoArgs(SVar("path-of-xtc-file")),Var("file"))]))),SDefT("parse-xtc-file",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],Seq(Match(Var("file")),CallT(SVar("parse-xtc-file"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),App(CallNoArgs(SVar("path-of-xtc-file")),Var("file"))]))),SDefT("parse-xtc-file",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(CallT(SVar("parse-xtc-file-pt"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]),CallNoArgs(SVar("implode-asfix"))))]),Strategies([SDefT("parse-xtc-file-pt",[],[DefaultVarDec("tbl")],Seq(Match(Var("file")),CallT(SVar("parse-xtc-file-pt"),[Fail,Fail],[Var("tbl"),NoAnnoList(Op("None",[])),App(CallNoArgs(SVar("path-of-xtc-file")),Var("file"))]))),SDefT("parse-xtc-file-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],Seq(Match(Var("file")),CallT(SVar("parse-xtc-file-pt"),[Fail,Fail],[Var("tbl"),Var("start-symbol"),App(CallNoArgs(SVar("path-of-xtc-file")),Var("file"))]))),SDefT("parse-xtc-file-pt",[],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],CallT(SVar("parse-xtc-file-pt"),[Fail,Fail],[Var("tbl"),Var("start-symbol"),Var("path")])),SDefT("parse-xtc-file-pt",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl")],Seq(Match(Var("file")),CallT(SVar("parse-xtc-file-pt"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),NoAnnoList(Op("None",[])),App(CallNoArgs(SVar("path-of-xtc-file")),Var("file"))]))),SDefT("parse-xtc-file-pt",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol")],Seq(Match(Var("file")),CallT(SVar("parse-xtc-file-pt"),[CallNoArgs(SVar("on-open-error")),CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),App(CallNoArgs(SVar("path-of-xtc-file")),Var("file"))]))),SDefT("parse-xtc-file-pt",[DefaultVarDec("on-open-error"),DefaultVarDec("on-parse-error")],[DefaultVarDec("tbl"),DefaultVarDec("start-symbol"),DefaultVarDec("path")],Seq(Where(AM(Build(Var("tbl")),NoAnnoList(Op("ParseTable",[Var("internal-tbl")])))),Let([SDefNoArgs("open-stream",LChoice(Seq(Match(NoAnnoList(Op("FILE",[RootApp(Id)]))),LChoice(BA(CallNoArgs(SVar("fopen")),NoAnnoList(Tuple([RootApp(Id),NoAnnoList(Str("\"r\""))]))),CallNoArgs(SVar("on-open-error")))),Seq(Match(NoAnnoList(Op("stdin",[]))),CallNoArgs(SVar("stdin-stream")))))],Seq(AM(CallNoArgs(SVar("open-stream")),Var("stream")),Call(SVar("finally"),[CallT(SVar("parse-stream-pt"),[CallNoArgs(SVar("on-parse-error"))],[Var("tbl"),Var("start-symbol"),Var("path")]),BA(CallNoArgs(SVar("fclose")),Var("stream"))]))))),SDefNoArgs("path-of-xtc-file",Choice(Match(NoAnnoList(Op("FILE",[RootApp(CallNoArgs(SVar("is-string")))]))),Seq(Match(NoAnnoList(Op("stdin",[]))),Build(NoAnnoList(Str("\"stdin\""))))))]),Strategies([SDefNoArgs("get-parse-error",PrimNoArgs("\"STRSGLR_get_parse_error\"")),SDefNoArgs("clear-parse-error",PrimNoArgs("\"STRSGLR_clear_parse_error\"")),SDefNoArgs("is-parse-tree",Seq(Match(Var("t")),Prim("\"STRSGLR_is_parse_tree\"",[Var("t")])))])])
