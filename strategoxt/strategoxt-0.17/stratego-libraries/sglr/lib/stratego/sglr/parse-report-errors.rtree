Module("stratego/sglr/parse-report-errors",[Imports([Import("stratego/sglr/parse")]),Strategies([SDefT("parse-xtc-file-pt-report-errors",[],[DefaultVarDec("tbl"),DefaultVarDec("sort")],CondChoice(CallT(SVar("is-parse-table-open"),[],[Var("tbl")]),CallT(SVar("parse-xtc-file-pt"),[CallNoArgs(SVar("strsglr-perror")),CallNoArgs(SVar("strsglr-report-parse-error"))],[Var("tbl"),Var("sort")]),Let([SDefT("parse",[],[DefaultVarDec("tbl'")],CallT(SVar("parse-xtc-file-pt-report-errors"),[],[Var("tbl'"),Var("sort")]))],CallT(SVar("open-parse-table-wrap-report-errors"),[CallNoArgs(SVar("parse"))],[Var("tbl")])))),SDefT("parse-xtc-file-report-errors",[],[DefaultVarDec("tbl"),DefaultVarDec("sort")],CondChoice(CallT(SVar("is-parse-table-open"),[],[Var("tbl")]),Seq(CallT(SVar("parse-xtc-file-pt"),[CallNoArgs(SVar("strsglr-perror")),CallNoArgs(SVar("strsglr-report-parse-error"))],[Var("tbl"),Var("sort")]),CallNoArgs(SVar("implode-asfix"))),Let([SDefT("parse",[],[DefaultVarDec("tbl'")],CallT(SVar("parse-xtc-file-report-errors"),[],[Var("tbl'"),Var("sort")]))],CallT(SVar("open-parse-table-wrap-report-errors"),[CallNoArgs(SVar("parse"))],[Var("tbl")]))))]),Strategies([SDefNoArgs("strsglr-report-parse-error",Call(SVar("finally"),[Seq(Match(Var("input")),Seq(Assign(Var("error"),RootApp(CallNoArgs(SVar("get-parse-error")))),BA(CallT(SVar("report-error"),[],[Var("error")]),Var("input")))),Fail])),SDefNoArgs("strsglr-perror",BA(Seq(CallNoArgs(SVar("conc-strings")),Seq(CallNoArgs(SVar("perror")),Fail)),NoAnnoList(Tuple([App(CallNoArgs(SVar("whoami")),NoAnnoList(Tuple([]))),NoAnnoList(Str("\": \"")),RootApp(Id)]))))])])
