<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.05">
<META name="Author" content="Eelco Visser"><TITLE>
  LIST-INDEX
</TITLE>
</HEAD>
<BODY TEXT=black BGCOLOR=white>
<A HREF="Library019.html"><IMG SRC ="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC ="contents_motif.gif" ALT="Contents"></A>
<A HREF="Library021.html"><IMG SRC ="next_motif.gif" ALT="Next"></A>
<HR>

<H3>5.3.4&nbsp;&nbsp;  LIST-INDEX</H3><PRE>
module list-index
imports list-cons simple-traversal
rules

  Ind1   : (1, [x | xs]) -&gt; x
  Ind2   : (n, [x | xs]) -&gt; (&lt;minus&gt; (n, 1), xs) where &lt;geq&gt; (n, 2)

  Gind0  : (x, ys) -&gt; (1, x, ys)
  Gind1  : (n, x, [x | xs]) -&gt; n
  Gind2  : (n, y, [x | xs]) -&gt; (&lt;plus&gt; (n, 1), y, xs)

strategies

(* Index: Get the n-th element of a list *)

  index = repeat(Ind2) ; Ind1

(* Get-index: get index of element in list *)

   get_index = Gind0 ; rec x(Gind1 &lt;+ Gind2 ; x)
   get-index = Gind0 ; rec x(Gind1 &lt;+ Gind2 ; x)

   get-index0(s) = at-suffix([s | id]; ![]); length
</PRE>	
 	<HR>
<A HREF="Library019.html"><IMG SRC ="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC ="contents_motif.gif" ALT="Contents"></A>
<A HREF="Library021.html"><IMG SRC ="next_motif.gif" ALT="Next"></A>
</BODY>
</HTML>
